#!/usr/bin/env php

<?php

require_once realpath(__DIR__.'/../../vendor/autoload.php');

if( file_exists( __DIR__. '/../../bootstrap.php') )
{
	include __DIR__. '/../../bootstrap.php';
}
else {
	help();
	die();
}

use Tolkien\Init;
use Tolkien\Facades\Tolkien;

switch($argv[1]) 
{
	case 'help':
		help();
		break;
	case 'init':
		$init = new Init($argv[2]);
		$init->create();
		break;
	case 'generate':
		Tolkien::generate($argv[2], $argv[3]);
		break;
	case 'compile':
		Tolkien::compile();
		break;
	default:
		help();
		break;
}

function help()
{
		echo <<<EOT
================= Available Commands ===================\n
php (vendor\bin\)tolkien init [name]
php (vendor\bin\)tolkien generate [post, draft, page] [name]
php (vendor\bin\)tolkien build [option: post, draft, page]
php (vendor\bin\)tolkien compile
\n================= end ===================\n\n
EOT;
}